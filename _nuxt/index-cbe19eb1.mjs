import{e as B,T as N,o,a as n,P as E,N as I,b as s,t as r,u as d,O as j,Z as M,$ as O,A as U,a4 as W,y as F,f as $,S as J,z as q,w as v,a5 as P,a6 as X,U as x,V as L,W as w,Y as V,X as Y,a7 as Z,c as G}from"./entry-c501f1fd.mjs";import{u as H}from"./asyncData-0d20ff77.mjs";import{u as K}from"./useSeo-61e4856d.mjs";import{q as Q}from"./query-d4185846.mjs";import"./json-262c9e98.mjs";import"./utils-b7370d81.mjs";const ee=["src"],te={class:"flex-1"},se={class:"title"},ae={class:"body"},oe={class:"date"},le={class:"read-time"},ne=B({__name:"Entry",props:{blog:null},setup(i){const{locale:g}=N(),h=p=>({"/assets/img/blog/linux-commands-and-utilities.jpg":M,"/assets/img/blog/nuxt-github-pages.jpg":O})[p].default;return(p,f)=>{const S=j;return o(),n("article",null,[E(S,{to:i.blog._path+"/",class:"h-full flex flex-col"},{default:I(()=>[s("header",null,[s("img",{loading:"lazy",src:h(i.blog.image)},null,8,ee)]),s("section",te,[s("div",se,[s("h2",null,r(i.blog.title),1)]),s("div",ae,[s("p",null,r(i.blog.description),1)])]),s("footer",null,[s("div",oe,r(new Date(i.blog.date).toLocaleDateString(d(g),{year:"numeric",month:"long",day:"numeric"})),1),s("div",le,r(i.blog.readtime),1)])]),_:1},8,["to"])])}}}),re={class:"blog-home-title-filter-wrapper col-start-2 col-end-3 row-start-2 row-end-3"},ie={class:"blog-home-title-filter"},ce={class:"blog-home-title"},ue={class:"blog-search-box"},ge={key:0,class:"blog-sections-box"},de=["onClick"],he={class:"blog-grid col-start-2 col-end-3 row-start-3 row-end-4"},fe={key:0,class:"empty-array-message"},_e=V(" No articles"),me={key:0},Se=B({__name:"index",async setup(i){let g,h;const{t:p,locale:f,availableLocales:S}=N(),c=U(),T=W(),e=F({search:"",tags:[]});let _=$([]);K({title:"Blog",description:"List of articles in the blog",image:"",type:"Series",location:c.path});let A=([g,h]=J(()=>H("blog-content",()=>Q("/blog/").where({published:!0}).sort({date:-1}).find(),"$7s55VpWuTk")),g=await g,h(),g);const m=$(A.data.value);e.search=c.query.search||"",c.query.tags&&(typeof c.query.tags=="string"||c.query.tags instanceof String?e.tags=[c.query.tags]:e.tags=c.query.tags);function y(){m.value&&(_.value=m.value.filter(t=>(t.language||(t.language="en"),t.language!=f.value?!1:e.search.length>0?JSON.stringify(t).toLowerCase().includes(e.search.toLowerCase()):!0)))}y();const D=q(()=>(m.value,_.value.filter(t=>e.tags.length>0?e.tags.reduce((a,u)=>a||t.tags.includes(u),!1):!0))),k=q(()=>{let t=new Set;for(let a of _.value)if(a.tags)for(let u of a.tags)t.add(u);return t});function z(t){const a=t.target;e.tags.includes(a.innerText)?e.tags=e.tags.filter(u=>u!=a.innerText):e.tags.push(a.innerText)}function R(t){return{selected:e.tags.includes(t)}}let b=!1;return v(f,t=>{e.tags=[],b=!0}),v(e,t=>{if(T.push({query:{...e.tags.length&&{tags:e.tags},...e.search.length&&{search:e.search}}}),!b){const a=document.querySelector("main");a.getBoundingClientRect().y<0&&a.scrollIntoView()}b=!1,y()}),v(m,t=>{y()}),(t,a)=>{const u=ne;return o(),n(x,null,[s("div",re,[s("div",ie,[s("div",ce,[s("h2",null,r(t.$t("blog.home.title")),1),s("div",ue,[P(s("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>e.search=l),type:"text",placeholder:"Search"},null,512),[[X,e.search]])])]),d(k).size>0?(o(),n("div",ge,[(o(!0),n(x,null,L(d(k),(l,C)=>(o(),n("button",{key:l+String(C),class:Y(["blog-sections-item",R(String(l))]),onClick:Z(z,["prevent"])},r(l),11,de))),128))])):w("",!0)])]),s("div",he,[(o(!0),n(x,null,L(d(D),(l,C)=>(o(),G(u,{key:t.$i18n.locale+l._path,blog:l},null,8,["blog"]))),128))]),d(_).length<=0?(o(),n("div",fe,[_e,e.search?(o(),n("span",me,'\xA0for "'+r(e.search)+'"',1)):w("",!0),V('\xA0in language "'+r(t.$i18n.locale)+'" ',1)])):w("",!0)],64)}}});export{Se as default};
