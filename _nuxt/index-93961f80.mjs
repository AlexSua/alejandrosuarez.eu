import{e as L,W as V,o as l,a as r,S as E,Q as I,b as s,t as i,u as d,R as j,B as M,C as W,D as F,a5 as J,y as O,f as $,V as Q,z as q,w as v,a6 as U,a7 as X,X as x,Y as B,Z as w,a0 as N,$ as Y,a8 as Z,c as G}from"./entry-a2328bed.mjs";import{u as H}from"./asyncData-69a1cf1a.mjs";import{u as K}from"./useSeo-0e6182eb.mjs";import{q as P}from"./query-264b4abb.mjs";import"./json-88615181.mjs";import"./utils-6ef9325f.mjs";const ee=["alt","src"],te={class:"flex-1"},se={class:"title"},ae={class:"body"},le={class:"date"},oe={class:"read-time"},ne=L({__name:"Entry",props:{blog:null},setup(o){const{locale:g}=V(),h=p=>({"/assets/img/blog/linux-commands-and-utilities.jpg":M,"/assets/img/blog/nuxt-github-pages.jpg":W})[p].default;return(p,f)=>{const S=j;return l(),r("article",null,[E(S,{to:o.blog._path+"/",class:"h-full flex flex-col"},{default:I(()=>[s("header",null,[s("img",{loading:"lazy",alt:o.blog.title,src:h(o.blog.image)},null,8,ee)]),s("section",te,[s("div",se,[s("h2",null,i(o.blog.title),1)]),s("div",ae,[s("p",null,i(o.blog.description),1)])]),s("footer",null,[s("div",le,i(new Date(o.blog.date).toLocaleDateString(d(g),{year:"numeric",month:"long",day:"numeric"})),1),s("div",oe,i(o.blog.readtime),1)])]),_:1},8,["to"])])}}}),re={class:"blog-home-title-filter-wrapper col-start-2 col-end-3 row-start-2 row-end-3"},ie={class:"blog-home-title-filter"},ce={class:"blog-home-title"},ue={class:"blog-search-box"},ge={key:0,class:"blog-sections-box"},de=["onClick"],he={class:"blog-grid col-start-2 col-end-3 row-start-3 row-end-4"},fe={key:0,class:"empty-array-message"},me=N(" No articles"),_e={key:0},Se=L({__name:"index",async setup(o){let g,h;const{t:p,locale:f,availableLocales:S}=V(),c=F(),D=J(),e=O({search:"",tags:[]});let m=$([]);K({title:"Blog",description:"List of articles in the blog",image:"",type:"Series",location:c.path});let T=([g,h]=Q(()=>H("blog-content",()=>P("/blog/").where({published:!0}).sort({date:-1}).find(),"$7s55VpWuTk")),g=await g,h(),g);const _=$(T.data.value);e.search=c.query.search||"",c.query.tags&&(typeof c.query.tags=="string"||c.query.tags instanceof String?e.tags=[c.query.tags]:e.tags=c.query.tags);function y(){_.value&&(m.value=_.value.filter(t=>(t.language||(t.language="en"),t.language!=f.value?!1:e.search.length>0?JSON.stringify(t).toLowerCase().includes(e.search.toLowerCase()):!0)))}y();const R=q(()=>(_.value,m.value.filter(t=>e.tags.length>0?e.tags.reduce((a,u)=>a||t.tags.includes(u),!1):!0))),C=q(()=>{let t=new Set;for(let a of m.value)if(a.tags)for(let u of a.tags)t.add(u);return t});function z(t){const a=t.target;e.tags.includes(a.innerText)?e.tags=e.tags.filter(u=>u!=a.innerText):e.tags.push(a.innerText)}function A(t){return{selected:e.tags.includes(t)}}let b=!1;return v(f,t=>{e.tags=[],b=!0}),v(e,t=>{if(D.push({query:{...e.tags.length&&{tags:e.tags},...e.search.length&&{search:e.search}}}),!b){const a=document.querySelector("main");a.getBoundingClientRect().y<0&&a.scrollIntoView()}b=!1,y()}),v(_,t=>{y()}),(t,a)=>{const u=ne;return l(),r(x,null,[s("div",re,[s("div",ie,[s("div",ce,[s("h2",null,i(t.$t("blog.home.title")),1),s("div",ue,[U(s("input",{"onUpdate:modelValue":a[0]||(a[0]=n=>e.search=n),type:"text",placeholder:"Search"},null,512),[[X,e.search]])])]),d(C).size>0?(l(),r("div",ge,[(l(!0),r(x,null,B(d(C),(n,k)=>(l(),r("button",{key:n+String(k),class:Y(["blog-sections-item",A(String(n))]),onClick:Z(z,["prevent"])},i(n),11,de))),128))])):w("",!0)])]),s("div",he,[(l(!0),r(x,null,B(d(R),(n,k)=>(l(),G(u,{key:t.$i18n.locale+n._path,blog:n},null,8,["blog"]))),128))]),d(m).length<=0?(l(),r("div",fe,[me,e.search?(l(),r("span",_e,'\xA0for "'+i(e.search)+'"',1)):w("",!0),N('\xA0in language "'+i(t.$i18n.locale)+'" ',1)])):w("",!0)],64)}}});export{Se as default};
